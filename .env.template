# ------------------------------------------------------------------------------
# SOMA AGENT HUB - LOCAL DEVELOPMENT ENVIRONMENT
#
# This file serves as a template for the required environment variables.
# Copy this file to .env and fill in the values for your local setup.
#
# Last Updated: October 17, 2025
# ------------------------------------------------------------------------------

# --- Core Application Ports -------------------------------------------------
# These ports map directly to the main application services.
GATEWAY_API_PORT=10000
ORCHESTRATOR_PORT=10001
IDENTITY_SERVICE_PORT=10002
MEMORY_GATEWAY_PORT=10018

# --- Data & Cache Service Ports ---------------------------------------------
# Host ports for databases, caches, and storage services.
REDIS_PORT=10003
APP_POSTGRES_PORT=10004
QDRANT_PORT=10005
CLICKHOUSE_HTTP_PORT=10006
MINIO_API_PORT=10007
MINIO_CONSOLE_PORT=10008

# --- Infrastructure & Secrets Ports -----------------------------------------
VAULT_PORT=10009

# --- Observability & Tracing Ports ------------------------------------------
PROMETHEUS_PORT=10010
GRAFANA_PORT=10011
LOKI_PORT=10012
TEMPO_OTLP_GRPC_PORT=10013
TEMPO_OTLP_HTTP_PORT=10014
OTEL_GRPC_PORT=10015
OTEL_HTTP_PORT=10016
OTEL_PROMETHEUS_PORT=10017

# --- UI & Development Server Ports ------------------------------------------
ADMIN_CONSOLE_PORT=10018
PROJECT_DASHBOARD_PORT=3000 # Vite default, can be overridden

# --- Service URLs (for inter-service communication) -------------------------
# These are used by services to communicate with each other within the Docker network.
# They should typically use the service name and container port.
GATEWAY_API_URL=http://localhost:10000
ORCHESTRATOR_URL=http://orchestrator:10001
IDENTITY_SERVICE_URL=http://identity-service:10002
# Policy engine runs on 10020 when enabled; orchestrator appends /v1/evaluate.
POLICY_ENGINE_URL=http://policy-engine:10020
CONSTITUTION_SERVICE_URL=http://constitution-service:8007/v1
SLM_SERVICE_URL=http://slm-service:1001
MAO_SERVICE_URL=http://localhost:8000 # To be updated

# --- Temporal Configuration -------------------------------------------------
TEMPORAL_HOST=temporal-server:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=somagent.session.workflows
TEMPORAL_ENABLED=true

# --- Security & JWT ---------------------------------------------------------
SOMAGENT_IDENTITY_JWT_SECRET=dev-secret-replace-this-in-production

# --- Database Credentials (Local Development) -------------------------------
# Default credentials for local Postgres instances.
APP_POSTGRES_USER=somaagent
APP_POSTGRES_PASSWORD=somaagent
APP_POSTGRES_DB=somaagent

TEMPORAL_POSTGRES_USER=temporal
TEMPORAL_POSTGRES_PASSWORD=temporal
TEMPORAL_POSTGRES_DB=temporal

# --- MinIO Credentials (Local Development) ----------------------------------
MINIO_ROOT_USER=somaagent
MINIO_ROOT_PASSWORD=local-developer

# --- Grafana Credentials (Local Development) --------------------------------
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin

# --- Vault Configuration ----------------------------------------------------
VAULT_DEV_ROOT_TOKEN_ID=root
VAULT_ADDR=http://127.0.0.1:8200

# --- OpenTelemetry Configuration --------------------------------------------
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
ENABLE_OTLP=true

# --- Volcano Scheduler (optional) -----------------------------------------------
ENABLE_VOLCANO_SCHEDULER=false
VOLCANO_NAMESPACE=soma-agent-hub
VOLCANO_DEFAULT_QUEUE=interactive
VOLCANO_SESSION_IMAGE=python:3.11-slim
VOLCANO_SESSION_CPU=500m
VOLCANO_SESSION_MEMORY=512Mi
VOLCANO_JOB_TIMEOUT_SECONDS=300
KUBECTL_BINARY=kubectl

